# タスク管理

## 概要
入社・退職・異動に伴うSaaSアカウントの作成・削除・権限変更などの作業をチェックリスト形式で管理する。プリセット（テンプレート）を使って定型作業を効率化できる。

## URL
| 画面 | URL |
|------|-----|
| タスク一覧 | `GET /tasks` |
| タスク作成 | `GET /tasks/new` |
| タスク詳細 | `GET /tasks/:id` |
| プリセット一覧 | `GET /task_presets` |
| プリセット作成 | `GET /task_presets/new` |
| プリセット編集 | `GET /task_presets/:id/edit` |

## タスクタイプ
| タイプ | 説明 | 主な作業例 |
|--------|------|-----------|
| 入社（onboarding） | 新入社員のセットアップ | アカウント作成、PC準備 |
| 退職（offboarding） | 退職者の後処理 | アカウント削除、PC返却、NDA |
| 異動（transfer） | 異動に伴う変更 | 権限変更、アカウント追加/削除 |

## ステータスフロー
```
open → in_progress → completed
```

## データ項目

### タスク
| 項目 | 説明 |
|------|------|
| タイトル | タスク名（例: 「伊藤 健太の退職処理」） |
| タイプ | onboarding / offboarding / transfer |
| 対象ユーザー | 対象となるメンバー |
| ステータス | open / in_progress / completed |
| 完了率 | 完了アイテム数 / 全アイテム数（プログレスバー表示） |
| 期限 | 対応期限 |
| 作成者 | タスクを作成した管理者 |

### タスクアイテム（チェックリスト）
| 項目 | 説明 |
|------|------|
| アクション種別 | account_create / account_delete / pc_return 等 |
| 説明 | 作業内容 |
| 対象SaaS | 関連するSaaS（任意） |
| 担当者 | 作業担当 |
| ステータス | pending / completed |
| 完了日時 | チェックを入れた日時 |

### タスクプリセット（テンプレート）
| 項目 | 説明 |
|------|------|
| 名前 | テンプレート名（例: 「退職処理」） |
| タイプ | onboarding / offboarding / transfer |
| 説明 | テンプレートの概要 |
| アイテム数 | 定義済みチェックリスト項目の数 |

## 一覧画面の機能
- **ステータスフィルタ**: 全て / open / in_progress / completed
- **タイプフィルタ**: 全て / onboarding / offboarding / transfer
- プログレスバーで完了率を視覚化
- 期限超過の場合は赤字で警告

## 詳細画面の機能
- チェックボックスで各アイテムの完了/未完了を切り替え
- 完了率のプログレスバー表示
- 担当者・対象SaaSの表示

## アクセス権限
| ロール | 権限 |
|--------|------|
| admin | タスク CRUD + プリセット CRUD |
| manager | 閲覧 + チェックリスト更新 |
| viewer | 閲覧 + チェックリスト更新 |

※ プリセットはadmin専用
