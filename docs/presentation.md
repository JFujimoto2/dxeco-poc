---
marp: true
theme: default
paginate: true
size: 16:9
style: |
  section {
    font-family: 'Meiryo UI', 'Meiryo', sans-serif;
    font-size: 22px;
    padding: 40px 50px;
    color: #333333;
    background-color: #ffffff;
  }
  section.title {
    background: #0058a3;
    color: #ffffff;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  section.title h1 {
    font-size: 2.2em;
    border: none;
    color: #ffffff;
    margin-bottom: 0.2em;
  }
  section.title h2 {
    font-size: 1.1em;
    font-weight: 400;
    color: #cce0f0;
    border: none;
  }
  section.title h3 {
    font-size: 0.85em;
    font-weight: 400;
    color: #cce0f0;
  }
  section.section-header {
    background: #0058a3;
    color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  section.section-header h1 {
    font-size: 2.2em;
    border: none;
    color: #ffffff;
  }
  h1 {
    font-size: 1.5em;
    color: #0058a3;
    border-bottom: 2px solid #0058a3;
    padding-bottom: 0.15em;
    margin-bottom: 0.4em;
  }
  h2 {
    font-size: 1.15em;
    color: #0058a3;
    margin-top: 0.3em;
    margin-bottom: 0.2em;
  }
  h3 {
    font-size: 1.0em;
    color: #444444;
    margin-top: 0.3em;
    margin-bottom: 0.15em;
  }
  table {
    font-size: 0.82em;
    width: 100%;
  }
  th {
    background-color: #0058a3;
    color: #ffffff;
    font-weight: 600;
  }
  td, th {
    padding: 4px 10px;
  }
  strong {
    color: #c41e00;
  }
  ul, ol {
    font-size: 0.92em;
    margin-top: 0.2em;
  }
  li {
    margin-bottom: 0.15em;
  }
  blockquote {
    border-left: 4px solid #0058a3;
    background: #eef4fb;
    color: #333333;
    padding: 0.4em 1em;
    margin: 0.5em 0;
    font-size: 0.92em;
  }
  pre {
    font-size: 0.75em;
    background: #f5f5f5;
    padding: 0.6em;
  }
  code {
    font-size: 0.85em;
  }
  footer {
    font-size: 0.55em;
    color: #999999;
  }
---

<!-- _class: title -->

# SaaS管理ツール
## 自社開発POC 機能紹介

<br>

情報システム部
2026年2月

---

# 本日のアジェンダ

1. **背景と課題** — なぜSaaS管理ツールが必要か
2. **POCの目的** — DXECOとの比較検討
3. **機能紹介** — 16機能の概要とデモ
4. **セキュリティ** — 監査・認証・運用
5. **コスト比較** — 5年間で約990万円削減
6. **まとめと今後** — 本番化に向けて

---

<!-- _class: section-header -->

# 1. 背景と課題

---

# 現状の課題

### 約260件のSaaSを管理する必要がある

| 課題 | 影響 |
|------|------|
| 誰がどのSaaSを使っているか把握できない | 退職者のアカウントが残存 → セキュリティリスク |
| SaaSの契約更新日を管理できていない | 更新期限切れ・不要な自動更新の見落とし |
| 入退社時のアカウント作業が属人的 | 担当者不在時に対応が滞る |
| コスト全体像が見えない | 不要なSaaSの見直しが進まない |
| アカウント棚卸しの工数が大きい | Excel＋メールでの手作業。年2回が限界 |

---

# 検討した選択肢

| 選択肢 | メリット | デメリット |
|--------|----------|------------|
| **DXECO（SaaS管理製品）** | すぐ使える | 年204万円、カスタマイズ不可 |
| **自社開発** | 要件に合わせて自由に開発、低コスト | 開発・保守リソースが必要 |

<br>

> **POCで自社開発の実現性を検証し、判断材料とする**

---

<!-- _class: section-header -->

# 2. POCの目的

---

# POCで証明すべき6つのこと

| # | 証明すべきこと | 結果 |
|---|----------------|------|
| 1 | アンケート（棚卸し・PW更新）が動く | **実証済み** |
| 2 | 入退社タスク管理が動く | **実証済み** |
| 3 | 申請→承認フローが動く | **実証済み** |
| 4 | Entra ID連携で退職者を自動検出できる | **実証済み** |
| 5 | 260件のSaaSを管理できる | **実証済み** |
| 6 | 監査ログが標準装備できる | **実証済み** |

> **全6項目を実証完了。さらにPOC範囲外の8機能も追加実装済み。**

---

<!-- _class: section-header -->

# 3. 機能紹介

---

# 機能全体像（16機能）

```
┌─────────────────────────────────────────────────┐
│              ダッシュボード                         │
│  KPI  │ 承認待ち │ タスク │ 契約更新 │ コスト │ PW期限  │
└─────────────────────────────────────────────────┘

 台帳管理                    業務プロセス
 ├ SaaS台帳                  ├ サーベイ（棚卸し）
 ├ アカウント管理              ├ タスク管理（入退社）
 ├ メンバー管理               └ 申請・承認
 └ 契約情報

 Entra ID連携                通知
 ├ SSO認証                   ├ Teams通知（3チャンネル）
 ├ ユーザー同期               ├ メール通知
 ├ SaaSアカウント同期          └ 契約更新アラート
 └ 退職者検出
```

---

# ダッシュボード

ログイン後の最初の画面。**システム全体の状況を一目で把握**。

| 表示項目 | 内容 |
|----------|------|
| KPIカード | SaaS件数・メンバー数・アカウント数 |
| 承認待ち | 未処理の申請一覧 |
| タスク進捗 | アクティブなタスクの完了率 |
| 契約更新アラート | 30日以内に期限が来る契約 |
| コスト概況 | 月額/年額合計＋カテゴリ別ドーナツチャート |
| PW期限アラート | パスワード有効期限切れ/期限間近のユーザー |

---

# SaaS台帳

全SaaSの基本情報と契約情報を一元管理する**中央台帳**。

### 管理項目

| 基本情報 | 契約情報 |
|----------|----------|
| SaaS名・カテゴリ | プラン名 |
| サービスURL・管理画面URL | 月額 / 年額コスト |
| ステータス（active / trial / cancelled） | 契約開始日・満了日 |
| 契約担当者・説明 | 請求サイクル・提供元 |
| Entra ID アプリID（自動同期用） | 自動更新有無 |

### 操作機能
- **検索・フィルタ:** キーワード検索、カテゴリ別、ステータス別で絞り込み
- **CSV入出力:** テンプレートDLで一括登録、フィルタ条件付きCSVエクスポート
- **Entra ID連携:** エンタープライズアプリIDを紐付けてアカウント自動同期
- **詳細画面:** 契約情報＋紐づくアカウント一覧を表示

---

# アカウント管理

「**誰がどのSaaSを使っているか**」を一元的に把握・管理。

### 管理項目

| 項目 | 内容 |
|------|------|
| SaaS | 対象のSaaSサービス |
| メンバー | アカウントを持つユーザー |
| アカウントメール | SaaSログイン用のメールアドレス |
| ロール | admin / member / owner |
| ステータス | active / suspended / deleted |
| 最終ログイン日時 | 最後にSaaSにログインした日時 |

### 登録方法（3つ）
1. **手動登録** — 画面から1件ずつ登録
2. **CSV一括取込** — テンプレートDL → 記入 → アップロード
3. **Entra ID自動同期** — エンタープライズアプリ経由でSSO連携済みアカウントを自動取得

### 検索・出力
- SaaS別・メンバー別・ステータス別フィルタ、CSVエクスポート

---

# サーベイ（アカウント棚卸し）

SaaS利用状況の定期的な確認・パスワード更新依頼。

### フロー

```
作成 → 配信（メール＋Teams） → 回答 → 集計 → 結果確認
                                            ↓
                                  未利用回答 → タスク自動生成
```

- **種類:** アカウント棚卸し / パスワード更新確認
- **リマインド:** 未回答者への再通知（メール＋Teams）
- **タスク連携:** 「未利用」回答からワンクリックで削除タスク生成

---

# タスク管理（入退社・異動対応）

入社・退職・異動時のアカウント作成/削除を**チェックリストで管理**。

### 特徴

- **プリセット:** 入社用/退職用/異動用のテンプレートを事前定義
- **タスク生成:** 対象者を選択 → プリセットから自動生成
  - 退職者の場合は保有SaaSアカウントを自動列挙
- **担当者割当:** 各チェック項目に担当者を設定
- **進捗管理:** 完了率の可視化、期限管理
- **通知:** 担当者へメール＋Teams通知

---

# 申請・承認ワークフロー

SaaSの新規利用やアカウントの追加/削除を承認制で管理。

### 申請種別
- SaaS新規追加
- アカウント追加
- アカウント削除

### フロー

```
申請者: 申請フォーム入力
    ↓
承認者: メール＋Teams通知 → 承認 or 却下
    ↓
申請者: 結果通知（メール＋Teams）
```

> **DXECOにはない機能。** 現場の運用フローに合わせてカスタマイズ可能。

---

# Entra ID連携

Microsoft Entra ID（旧Azure AD）と連携し、**手作業を大幅に削減**。

| 機能 | 内容 |
|------|------|
| SSO認証 | Entra IDアカウントでワンクリックログイン |
| ユーザー同期 | 組織情報（氏名・部署・役職）を自動取得 |
| グループベース同期 | 指定グループのメンバーのみ同期（本番向け） |
| **退職者検出** | Entra IDで無効化 → 残存SaaSアカウントを自動検出＋通知 |
| **SaaSアカウント同期** | エンタープライズアプリ経由でSSO連携済みアカウントを自動取得 |

> **DXECOはCSV手動突合せ。** 自社開発はEntra ID直接連携で自動化。

---

# 通知機能

### 3チャネルで確実に届ける

| チャネル | 対象イベント |
|----------|-------------|
| **Teams（一般）** | タスク割当、承認リクエスト/結果、退職者検出、契約更新 |
| **Teams（サーベイ）** | サーベイ配信、未回答リマインド |
| **メール** | タスク割当、承認通知、サーベイ配信・リマインド |

### 運用監視

| チャネル | 対象 |
|----------|------|
| **Teams（エラー）** | アプリケーションエラー、コンテナ再起動アラート |

---

<!-- _class: section-header -->

# 4. セキュリティ

---

# セキュリティ対策

### 認証・認可
- Entra ID SSO（OIDC） — パスワード管理不要
- 3段階ロール制御（admin / manager / viewer）

### 通信暗号化
- 全通信HTTPS強制（Azure Managed Certificate）
- DB接続もSSL必須

### アプリケーション保護
- CSRF対策、SQLインジェクション対策、XSS対策（Rails標準）
- Brakeman（セキュリティ静的解析）0警告

---

# 監査ログ ＆ CI/CD

### 操作ログ（標準装備）
- 全データ変更を**自動記録**（操作者、変更前後の差分、IPアドレス）
- 管理者画面で検索・閲覧・CSVエクスポート

> **DXECOでは年12万円の有料オプション → 自社開発は標準装備**

### CI/CD（5ジョブ自動実行）

| チェック | 内容 |
|----------|------|
| Rubocop | コード品質チェック |
| Brakeman + bundler-audit | セキュリティ脆弱性スキャン |
| RSpec 291テスト | ユニット・リクエストテスト |
| Playwright 73テスト | ブラウザE2Eテスト |

---

<!-- _class: section-header -->

# 5. コスト比較

---

# DXECO vs 自社開発：年間コスト

<br>

| 項目 | DXECO | 自社開発 |
|------|-------|----------|
| 基本料金（500名） | 180万円 | - |
| 監査ログオプション | 12万円 | **標準装備** |
| IP制限オプション | 12万円 | **標準装備** |
| Azure インフラ | - | 約6万円 |
| **年間合計** | **204万円** | **約6万円** |

<br>

> **年間約198万円のコスト削減**

---

# 5年間累計コスト比較

<br>

| 期間 | DXECO | 自社開発 | 削減額 |
|------|-------|----------|--------|
| 1年目 | 204万円 | 約6万円 | **約198万円** |
| 3年累計 | 612万円 | 約18万円 | **約594万円** |
| **5年累計** | **1,020万円** | **約30万円** | **約990万円** |

<br>

> POC開発期間は約2週間（AI活用で高速開発）。
> テスト・CI整備済みのため保守工数は年数日程度。

---

# DXECOとの機能比較

| 機能 | DXECO | 自社開発 |
|------|-------|----------|
| SaaS台帳・アカウント管理 | ○ | ○ |
| サーベイ（棚卸し） | ○ | ○ |
| タスク管理（入退社） | ○ | ○ |
| **申請・承認フロー** | **なし** | **○** |
| **退職者自動検出（Entra ID連携）** | **△（CSV手動）** | **◎（自動）** |
| **監査ログ** | **有料（年12万円）** | **標準装備** |
| Teams通知 | なし | ○ |
| カスタマイズ | 有償開発 | **自由** |
| シャドーIT検知 | △ | 対象外 |
| IT資産管理 | ○ | 対象外 |

---

<!-- _class: section-header -->

# 6. まとめと今後

---

# POCの成果

### 全6つの証明項目をクリア
- アンケート、タスク管理、承認フロー、退職者検出、台帳管理、監査ログ

### 当初範囲を超える8機能を追加実装
- SaaSアカウント自動同期、コスト可視化、メール通知、CSVエクスポート
- 契約更新アラート、PW期限検出、エラー監視、グループベース同期

### 品質指標

| 指標 | 値 |
|------|-----|
| テスト数 | RSpec 291 + Playwright E2E 73 = **計364件** |
| テストカバレッジ | 95.6%（行）/ 77.7%（分岐） |
| セキュリティ警告 | Brakeman **0件** |

---

# 懸念への回答

### 「開発者が異動・退職したら保守できない？」

| 対策 | 内容 |
|------|------|
| ドキュメント | 運用ガイド、開発手順書、機能仕様書（16本）整備済み |
| Rails標準構成 | 特殊なアーキテクチャなし。Railsエンジニアなら即キャッチアップ |
| テスト・CI | 364テスト + CI自動実行で安全に修正できる |
| Docker対応 | `docker compose up` で即座に開発環境構築 |

### 「POCから本番化で追加コストが大きい？」

- インフラ・CI/CD・認証は**本番レベルで構築済み**
- 追加作業: 承認フロー微調整（2-3日）+ 初期データ投入（1-2日）

---

# 今後のステップ

| ステップ | 内容 | 期間 |
|----------|------|------|
| **1. POCデモ** | 経営層・現場管理者への機能デモ | 今回 |
| **2. パイロット運用** | 先行部署で実際の業務で試用 | 1〜2週間 |
| **3. フィードバック反映** | 現場の要望に合わせて改修 | 1週間 |
| **4. 本番展開判断** | POC結果を踏まえて導入判断 | - |
| **5. 全社展開** | 本番データ投入、全ユーザーへ展開 | 1〜2週間 |

<br>

> まずは先行部署でのパイロット運用から始め、
> 現場の声を反映しながら本番展開を目指します。

---

<!-- _class: title -->

# ありがとうございました

<br>

### デモ・質疑応答

<br>
<br>

SaaS管理ツール POC — 情報システム部
